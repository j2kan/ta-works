{% extends "taform/base.html" %}
{% block content %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'taform/css/style.css' %}" />

<h1>Ranking Status</h1>

<div class="successMessage">{{success}}</div>

{% if not sent %}
<p><b>1. Select the button below to send an email to the instructor of each course with a link to an applicant ranking page.</p>

<form action="{% url 'ranking_status' %}" method="post" enctype="multipart/form-data">
{% csrf_token %}
    <input type="submit" class="submitButton" name="Upload" value="Send Out Ranking Links"/>
</form>

<p>2. It is advised that a second email is manually sent out, providing additional information such as the last day for rankings to be submitted.</b></p>
{% endif %}

<br>
<h4>Monitor the status of graduate student rankings for the upcoming term's courses using the table below.</h4> 
<p>Rankings that have been submitted can still be edited by the AC. Click on the course link to view and edit Instructor rankings.</p>

<table class="tg">
	<tr>
	<th class="tg-8fvv">Course</th>
	<th class="tg-8fvv">Section</th>
	<th class="tg-8fvv"># of Apps</th>
	<th class="tg-8fvv">Instructor</th>
	<th class="tg-8fvv">Instructor Email</th>
	<th class="tg-8fvv">Ranking Status</th>
	</tr>
{% if emptyApps %}
	{% for c in ranking_status %}
<tr>
	<td class="tg-yw4l"><a href="https://team4.uwaterloo.ca/taform/instructor/{{c.url_hash}}/">MSCI&nbsp;{{c.course_id}}</a></td>
	<td>{{c.section}}</td>
	<td>0</td>
	<td>{{c.instructor_name}}</td>
	<td>{{c.instructor_email}}</td>
	<td><b>No Applicants</b></td>
</tr>
	{% endfor %}
{% else %}
	{% for c in ranking_status %}
<tr>
	<td class="tg-yw4l"><a href="https://team4.uwaterloo.ca/taform/instructor/{{c.course__url_hash}}/">MSCI&nbsp;{{c.course__course_id}}</a></td>
	<td>{{c.course__section}}</td>
	<td>{{c.count}}</td>
	<td>{{c.course__instructor_name}}</td>
	<td>{{c.course__instructor_email}}</td>
	<td>{{c.status}}</td>
</tr>
	{% endfor %}
{% endif %}
</table>

{% endblock %}
